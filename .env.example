# OpenRouter Middleware Environment Configuration
# Copy this file to .env and update the values for your deployment

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Application name and version
APP_NAME="OpenRouter Middleware"
APP_VERSION="1.0.0"

# Debug mode (set to false in production)
DEBUG=false

# Server configuration
HOST=0.0.0.0
PORT=8080
RELOAD=false

# Logging configuration
LOG_LEVEL=INFO
LOG_FORMAT=json

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# Session secret key (REQUIRED - must be at least 32 characters)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SESSION_SECRET_KEY=your-super-secret-session-key-at-least-32-chars-long

# Admin credentials (REQUIRED)
ADMIN_USERNAME=admin
ADMIN_PASSWORD=your-secure-admin-password-8-chars-min

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis connection URL
REDIS_URL=redis://localhost:6379/0

# Redis password (recommended for production)
REDIS_PASSWORD=your-redis-password

# Redis connection pool settings
REDIS_MAX_CONNECTIONS=20
REDIS_RETRY_ON_TIMEOUT=true

# Redis memory settings (for Docker)
REDIS_MAX_MEMORY=256mb

# Redis external port (for Docker)
REDIS_EXTERNAL_PORT=6379

# =============================================================================
# OPENROUTER SETTINGS
# =============================================================================

# OpenRouter API base URL
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1

# Request timeout and retry settings
DEFAULT_TIMEOUT=30
MAX_RETRIES=3

# =============================================================================
# RATE LIMITING
# =============================================================================

# Default rate limit for client keys (requests per hour)
DEFAULT_RATE_LIMIT=1000

# Rate limiting window in seconds
RATE_LIMIT_WINDOW=3600

# =============================================================================
# CORS SETTINGS
# =============================================================================

# Allowed origins (comma-separated)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080

# Allowed HTTP methods (comma-separated)
ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS

# Allowed headers (comma-separated, or * for all)
ALLOWED_HEADERS=*

# Allow credentials in CORS requests
ALLOW_CREDENTIALS=true

# =============================================================================
# DOCKER SETTINGS
# =============================================================================

# Data directory for Docker volumes
DATA_DIR=./data

# Mount source code in development (rw for development, ro for production)
MOUNT_SOURCE=ro

# =============================================================================
# PRODUCTION DEPLOYMENT SETTINGS
# =============================================================================

# SSL certificate paths (for nginx reverse proxy)
# SSL_CERT_PATH=/path/to/cert.pem
# SSL_KEY_PATH=/path/to/key.pem

# Domain name for production deployment
# DOMAIN=yourdomain.com

# =============================================================================
# MONITORING AND OBSERVABILITY
# =============================================================================

# Health check endpoints
# HEALTH_CHECK_PATH=/health

# Metrics collection
# ENABLE_METRICS=true
# METRICS_PATH=/metrics

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Enable development tools and debugging
# DEV_MODE=false

# Hot reload for development
# ENABLE_RELOAD=false

# =============================================================================
# BACKUP AND PERSISTENCE
# =============================================================================

# Redis persistence settings
# REDIS_SAVE_FREQUENCY=900

# Backup directory
# BACKUP_DIR=./backups

# =============================================================================
# SECURITY NOTES
# =============================================================================
#
# 1. Always use strong, unique passwords and secret keys
# 2. Never commit this file with real secrets to version control
# 3. Use environment-specific .env files for different deployments
# 4. Consider using external secret management in production
# 5. Regularly rotate API keys and passwords
# 6. Enable Redis AUTH in production environments
# 7. Use HTTPS in production with proper SSL certificates
#
# =============================================================================
# QUICK START EXAMPLES
# =============================================================================
#
# Development:
# DEBUG=true
# LOG_LEVEL=DEBUG
# REDIS_PASSWORD=dev-password
#
# Production:
# DEBUG=false
# LOG_LEVEL=INFO
# REDIS_PASSWORD=strong-production-password
# SESSION_SECRET_KEY=very-long-random-production-key
#
# =============================================================================